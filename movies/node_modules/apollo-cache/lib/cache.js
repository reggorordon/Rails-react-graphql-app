<<<<<<< HEAD
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var apollo_utilities_1 = require("apollo-utilities");
var utils_1 = require("./utils");
=======
import { getFragmentQueryDocument } from 'apollo-utilities';
import { justTypenameQuery, queryFromPojo, fragmentFromPojo } from './utils';
>>>>>>> b22d4f639358533e1bbd355b77d7a3342c6a63e8
var ApolloCache = (function () {
    function ApolloCache() {
    }
    ApolloCache.prototype.transformDocument = function (document) {
        return document;
    };
    ApolloCache.prototype.transformForLink = function (document) {
        return document;
    };
    ApolloCache.prototype.readQuery = function (options, optimistic) {
        if (optimistic === void 0) { optimistic = false; }
        return this.read({
            query: options.query,
            variables: options.variables,
            optimistic: optimistic,
        });
    };
    ApolloCache.prototype.readFragment = function (options, optimistic) {
        if (optimistic === void 0) { optimistic = false; }
        return this.read({
<<<<<<< HEAD
            query: apollo_utilities_1.getFragmentQueryDocument(options.fragment, options.fragmentName),
=======
            query: getFragmentQueryDocument(options.fragment, options.fragmentName),
>>>>>>> b22d4f639358533e1bbd355b77d7a3342c6a63e8
            variables: options.variables,
            rootId: options.id,
            optimistic: optimistic,
        });
    };
    ApolloCache.prototype.writeQuery = function (options) {
        this.write({
            dataId: 'ROOT_QUERY',
            result: options.data,
            query: options.query,
            variables: options.variables,
        });
    };
    ApolloCache.prototype.writeFragment = function (options) {
        this.write({
            dataId: options.id,
            result: options.data,
            variables: options.variables,
<<<<<<< HEAD
            query: apollo_utilities_1.getFragmentQueryDocument(options.fragment, options.fragmentName),
=======
            query: getFragmentQueryDocument(options.fragment, options.fragmentName),
>>>>>>> b22d4f639358533e1bbd355b77d7a3342c6a63e8
        });
    };
    ApolloCache.prototype.writeData = function (_a) {
        var id = _a.id, data = _a.data;
        if (typeof id !== 'undefined') {
            var typenameResult = null;
            try {
                typenameResult = this.read({
                    rootId: id,
                    optimistic: false,
<<<<<<< HEAD
                    query: utils_1.justTypenameQuery,
=======
                    query: justTypenameQuery,
>>>>>>> b22d4f639358533e1bbd355b77d7a3342c6a63e8
                });
            }
            catch (e) {
            }
            var __typename = (typenameResult && typenameResult.__typename) || '__ClientData';
            var dataToWrite = Object.assign({ __typename: __typename }, data);
            this.writeFragment({
                id: id,
<<<<<<< HEAD
                fragment: utils_1.fragmentFromPojo(dataToWrite, __typename),
=======
                fragment: fragmentFromPojo(dataToWrite, __typename),
>>>>>>> b22d4f639358533e1bbd355b77d7a3342c6a63e8
                data: dataToWrite,
            });
        }
        else {
<<<<<<< HEAD
            this.writeQuery({ query: utils_1.queryFromPojo(data), data: data });
=======
            this.writeQuery({ query: queryFromPojo(data), data: data });
>>>>>>> b22d4f639358533e1bbd355b77d7a3342c6a63e8
        }
    };
    return ApolloCache;
}());
<<<<<<< HEAD
exports.ApolloCache = ApolloCache;
=======
export { ApolloCache };
>>>>>>> b22d4f639358533e1bbd355b77d7a3342c6a63e8
//# sourceMappingURL=cache.js.map