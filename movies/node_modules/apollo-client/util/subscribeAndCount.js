<<<<<<< HEAD
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
function subscribeAndCount(done, observable, cb) {
=======
export default function subscribeAndCount(done, observable, cb) {
>>>>>>> b22d4f639358533e1bbd355b77d7a3342c6a63e8
    var handleCount = 0;
    var subscription = observable.subscribe({
        next: function (result) {
            try {
                handleCount++;
                cb(handleCount, result);
            }
            catch (e) {
                setImmediate(function () {
                    subscription.unsubscribe();
                    done.fail(e);
                });
            }
        },
        error: done.fail,
    });
    return subscription;
}
<<<<<<< HEAD
exports.default = subscribeAndCount;
=======
>>>>>>> b22d4f639358533e1bbd355b77d7a3342c6a63e8
//# sourceMappingURL=subscribeAndCount.js.map